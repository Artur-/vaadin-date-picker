<!doctype html>
<html>

<head>
  <meta charset="utf-8">
  <script src="../../web-component-tester/browser.js"></script>
  <script src="../../iron-test-helpers/mock-interactions.js"></script>
  <script src="common.js"></script>

  <link rel="import" href="../../iron-form/iron-form.html">
  <link rel="import" href="../../iron-meta/iron-meta.html">
  <link rel="import" href="../vaadin-date-picker-light.html">
</head>

<body>
  <test-fixture id="custom-input-datepicker">
    <template>
      <vaadin-date-picker-light>
        <input is="iron-input">
      </vaadin-date-picker-light>
    </template>
  </test-fixture>

  <script>
    describe('custom input', function() {
      var datepicker;

      beforeEach(function() {
        datepicker = fixture('custom-input-datepicker');
      });

      it('should have the given name', function() {
        datepicker.name = 'foo';
        expect(datepicker.inputElement.getAttribute('name')).to.equal('foo');
      });

      it('should have no name', function() {
        expect(datepicker.inputElement.getAttribute('name')).to.equal(null);
      });

      it('should open calendar on tap', function() {
        // iOS needs this before using MockInteractions
        window.focus();
        MockInteractions.tap(datepicker.inputElement);
        expect(datepicker.$.dropdown.opened).to.be.true;
      });
    });
  </script>

</body>

</html>
